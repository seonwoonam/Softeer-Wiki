# 2025-02-10 리뷰 및 회고

## 리뷰
### 수업
### Optimizing Spark Job
- 특정 데이터가 있고 그걸 처리하는 Job 최적화.
- RDD : lower level, RDD는 partition이나 memory 사용을 직접 컨트롤 가능.
- DataFrame : 더 상위

LRU Cache
- 스파크는 LRU Cache를 활용

- Spark Memory와 Storage Memory를 우리가 정할 수 있음. 
**Storage Memory(정하는거 중요)** : rdd cache 일어남

Partition : 일을 처리하는 단위. 파티션이 작게 쪼개져있을 경우 shuffling 가능성 높아짐. 하지만 크면 분산처리가 안됨. 

shuffle : 병렬(분산)처리로 인한 부산물..

데이터에 따라 문제가 없는 시스템이 문제가 생길 수 있다. Data skew 같은 것이 발생해
- caching 할 때 데이터가 메모리보다 크면 분해가 일어남.

shuffle 처리 방법
- shuffle 없애기
- shuffle 줄이기
repartitionByRange : Sort를 먼저해서 shuffle 을 줄이기.

filtering, aggregation : shuffle을 쓰지 않음.

**Persist** : 디스크(로컬 스토리지)에도 써버리는 것.

- LRU(가장 오랫동안 사용되지 않는거 제거) cache 이므로 만들어둔 캐시가 사라질수도 있어서 그걸 방지하려고
- 디스크에 써두면 계속 오류가 발생해서 멈출때, 다시 활용할 수 있음.

**Checkpoint** 

- 길게 한 job들 결과를 갖고 있으려고
- lineage 기억 못함
- **hdfs에 씀.**

Filtering Unused Data
- 데이터 사이즈가 작아지는게 가장 좋은 방법이다.
- Early filtering : 필요없는거 버려라
- Column pruning : 필요없는 컬럼 버려라

### 아이디어 구체화
- 누구의 어떤 문제를 정의한 문제를 갖고 프리프로토타이핑을 진행했다.
- 프리프로토타이핑 하여 나온 결과를 팀원들과 함께 보고, 구현 방법을 구체화 해보았다. 

1. 데이터 수집
- 현대자동차 키워드가 들어간 뉴스를 주기적으로 모니터링해서 크롤링
2. 데이터 분석
- 미리 선정해둔 이슈 관련 키워드를 활용하고 빈도수를 세서 특정 주제가 이슈가 되는지 확인
- 이슈가 된 주제가 있다면 해당 주제를 키워드로 커뮤니티 반응 수집
- 뉴스 데이터와 커뮤니티 데이터 활용해서 ‘이슈 주의도’ 산정
    - (이슈 주의도 : GPT 판단한 경중 + 커뮤니티 화제성 + 뉴스 건수 변화량(미분값))
3. 리포트 및 알림
- 특정 기준 임계치를 넘은 부정 이슈를 슬랙을 통해 이슈대응팀에게 알림.
- 최근 부정이슈 언급도 변화 그래프 제공
4. 대응
- 이슈 주의도에 따른 대응 추천.
예시)
- 주시 : FAQ 작성 문구 추천
- 경계 : 홈페이지 긴급 공지
- 긴급 : 긴급회의 필요


## 회고
### Keep
- 프리프로토타이핑은 팀원들과 많은 대화를 통해 문제 해결방안을 구체화 해나갈 수 있게 되었다. 희미했던 아이디어가 윤곽을 드러내는 것 같다. 작은 단위부터 구현하면서 점점 구체화 해나가야겠다. 

### Problem
- 서로 같은 생각을 하고 있었는데 설명을 잘 못해서 그랬는지 내 생각이 다 전달되지 못한 순간이 있었다.  

### Try
- 어떤 의견과 생각을 전달할 때 더욱 디테일하게 소통해야겠다.