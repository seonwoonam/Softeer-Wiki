# W2M6 학습내용 정리

## 팀활동

### Docker를 사용하는 이유가 뭘까요?
- **개발 환경의 손쉬운 동기화**가 가능하다. 팀 프로젝트에서 Docker를 사용한다면 어떤 컴퓨터에서 작업하든 동일한 개발 환경 제공 가능.
- **서버 배포의 효율성** Docker는 애플리케이션과 관련된 모든 요소(코드, 라이브러리, 의존성)를 컨테이너 이미지로 패키징하여 어디서나 동일한 방식으로 실행할 수 있습니다. 이를 통해 배포 프로세스를 간소화하고, 배포 중 발생할 수 있는 환경 차이에 따른 문제를 준다.

- **스케일 아웃 및 이식성 :** 컨테이너는 경량화되어 있어 여러 대의 서버에서 쉽게 스케일 아웃 가능. 또한 컨테이너 기반으로 실행되는 애플리케이션은 서버 간 이동도 편하게 옮길 수 있다.

- **플랫폼 독립성** : 어플리케이션 실행하는 환경과 같이 패키징 하기 때문에, 호스트 운영 체제와 관계없이 어디서나 실행시킬 수 있다.

- **VM 대비 경량화된 솔루션**
- **모놀리식부터 마이크로서비스까지 대응 가능**

### 어떤 점은 더 불편한가요?
- **보안 격리의 한계 :** Docker는 호스트 OS 커널을 공유하므로, 컨테이너 간 격리 수준이 VM만큼 강력하지 않다. 만약 컨테이너 내부의 애플리케이션에서 취약점이 발견되면, 호스트 OS나 다른 컨테이너에 영향을 미칠 수 있다.
- **설정 및 초기 세팅 시간이 소요됨**(CI/CD 도구를 이용하여 해결할 수 있을 것이다.)
- **DockerFile을 작성해야 한다는점.**
- **단일 애플리케이션의 경우 오버헤드 증가 :**  단일 애플리케이션만 올릴 경우 오히려 오버헤드만 키우는 느낌이다.
- 데이터를 영구적으로 저장하는 경우에는 불편

### 이번 미션에서는 하나의 EC2에 하나의 Docker container를 배포했습니다. 만약에 여러대의 EC2에 여러 개의 컨테이너를 배포해야 한다면 어떻게 해야 할까요?
- 쿠버네틱스같은 오케스트레이션 도구를 쓴다.
- docker Swarm
- 여러 대의 서로 다른 네트워크를 갖고 있는 EC2끼리 연결, vxlan 등을 활용하여 서로 통신할 수 있게
- 여러 컨테이너를 MSA 환경으로 설계


## 새롭게 알게 된 내용

### AWS

#### EC2
- Elastic Compute Cloud
- 아마존 에서 제공하는 클라우드 컴퓨팅 서비스(aws에서 원격으로 제어할 수 있는 가상의 컴퓨터를 한 대 빌리는 것과 같은 개념)
- AMI(Amazon Machine Image)란?
    - EC2 인스턴스를 실행하기 위한 필요한 정보를 모은 단위
    - OS, 아키텍쳐 타입, 저장공간 용량 등
    - EC2의 복사본 느낌
- EC2 인스턴스
    - EC2 서비스를 통해 생성된 개별 가상 서버
- EC2 인스턴스를 생성한다는 것은 AMI를 토대로 운영체제, CPU, RAM 혹은 런타임이 구성된 컴퓨터를 빌리는 것.

#### User Data
- 유저 데이터는 인스턴스를 처음 부팅할 때 실행할 스크립트 형태의 데이터.


### Docker
- 컨테이너 기반 가상화 플랫폼.
- 응용 프로그램과 그 종속된 환경을 컨테이너로 패키징하여 실행하는 기술.
- 리눅스 컨테이너에 리눅스 어플리케이션을 프로세스 격리기술을 사용해서 더 쉽게 컨테이너로 실행하고 관리할 수 있게 해주는 프로젝트
- Docker Engine
    - 컨테이너를 생성하고 관리하는 주체.

- 가상머신 말고 Docker 쓰는 이유
    - 가상머신은 Hyperviosr를 통해 여러개의 운영체제 생성되고 관리됨
    - 시스템 자원을 가상화 하고 독립된 공간을 생성하는 작업은 HyperVisor를 거쳐야 하므로 성능 손실이 크고
    - 가상머신에는 Guest OS를 사용해야 하기 때문에 배포할 때 용량이 큼
    - 도커는 가상화된 공간을 생성하기 위해 리눅스 자체 기능 사용해서 성능 손실이 거의 없음.
    - 컨테이너 안에는 애플리케이션 구동하기 위한 라이브러리 및 실행 파일만 존재하기 때문에 컨테이너를 이미지로 만들었을 때 이미지 용량 또한 가상 머신에 비해 대폭 줄어듦.
- 도커 이미지와 컨테이너는 1:N 관계.
- Docker File : 도커 이미지를 만들 때 사용하는 파일
- Docker Image : 컨테이너를 생성할 때 필요한 요소(이미지 자체가 빌드가 된 후임)
    - 컨테이너 실행 환경 정의.
    - 웹 애플리케이션 일경우 웹 서버, 프레임워크, 라이브러리 등을 포함
- Docker Container : 도커 이미지로 생성되며, 컨테이너를 생성하면 해당 이미지의 목적에 맞게 파일이 들어있는 호스트와 다른 컨테이너로부터 격리된 곳에 시스템 자원 및 네트워크를 사용할 수 있는 프로세스 생성됨. 컨테이너는 완전 분리됨.
- Dockerfile 생성 → 이미지 생성 → 이미지 이용해서 컨테이너 생성

- 맥북에 도커 데스크탑을 설치해야 하는 이유?
    - 도커는 리눅스 기반 기술이므로, 맥OS에서 도커를 실행하려면 리눅스 환경이 필요. 도커 데스크탑은 자동으로 경량 가상 머신을 생성하여 이 환경을 제공.

